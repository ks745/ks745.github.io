{
  "hash": "1baf8d4d3bf3196ef60ce9a5349bfa84",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Exploratory Factor Analysis\"\nformat: \n  html: \n    highlight-style: dracula\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.4     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(GPArotation)\nraq_tib <- here::here(\"data/raq.csv\") |>\n  readr::read_csv()\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRows: 2571 Columns: 24\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (1): id\ndbl (23): raq_01, raq_02, raq_03, raq_04, raq_05, raq_06, raq_07, raq_08, ra...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n\n```{.r .cell-code}\n#creating object with only raq items (without id number)\nraq_items_tib <- raq_tib |> \n  dplyr::select(-id)\nraq_items_tib\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2,571 × 23\n   raq_01 raq_02 raq_03 raq_04 raq_05 raq_06 raq_07 raq_08 raq_09 raq_10 raq_11\n    <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>  <dbl>\n 1      3      1      3      4      2      4      3      3      3      2      2\n 2      2      5      3      3      4      4      5      4      4      3      4\n 3      4      5      3      3      3      4      5      4      3      4      4\n 4      4      4      4      3      4      4      4      3      2      2      2\n 5      4      2      5      4      2      3      2      5      4      5      4\n 6      2      3      4      3      4      2      3      2      3      2      1\n 7      2      4      5      5      3      3      4      3      3      3      3\n 8      4      3      4      3      5      4      5      4      3      5      3\n 9      3      5      5      1      3      4      4      3      5      3      3\n10      2      5      3      2      4      5      5      5      4      4      4\n# ℹ 2,561 more rows\n# ℹ 12 more variables: raq_12 <dbl>, raq_13 <dbl>, raq_14 <dbl>, raq_15 <dbl>,\n#   raq_16 <dbl>, raq_17 <dbl>, raq_18 <dbl>, raq_19 <dbl>, raq_20 <dbl>,\n#   raq_21 <dbl>, raq_22 <dbl>, raq_23 <dbl>\n```\n\n\n:::\n:::\n\n\n\n## Correlations\n\n### Correlations using Pearson's R\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncorrelation::correlation(raq_items_tib) |> \n  summary() |> \n  knitr::kable(digits = 2)\n```\n\n::: {.cell-output-display}\n\n\n|Parameter | raq_23| raq_22| raq_21| raq_20| raq_19| raq_18| raq_17| raq_16| raq_15| raq_14| raq_13| raq_12| raq_11| raq_10| raq_09| raq_08| raq_07| raq_06| raq_05| raq_04| raq_03| raq_02|\n|:---------|------:|------:|------:|------:|------:|------:|------:|------:|------:|------:|------:|------:|------:|------:|------:|------:|------:|------:|------:|------:|------:|------:|\n|raq_01    |   0.08|   0.12|   0.23|   0.21|   0.11|   0.12|   0.17|   0.18|   0.11|   0.12|   0.11|   0.15|   0.19|   0.11|   0.08|   0.22|   0.11|   0.16|   0.22|   0.22|  -0.18|   0.11|\n|raq_02    |   0.39|   0.34|   0.16|   0.13|   0.39|   0.26|   0.17|   0.10|   0.19|   0.20|   0.23|   0.09|   0.15|   0.18|   0.39|   0.18|   0.26|   0.34|   0.28|   0.12|  -0.12|     NA|\n|raq_03    |  -0.05|  -0.12|  -0.26|  -0.23|  -0.12|  -0.15|  -0.18|  -0.20|  -0.15|  -0.09|  -0.13|  -0.15|  -0.19|  -0.10|  -0.08|  -0.22|  -0.13|  -0.17|  -0.25|  -0.19|     NA|     NA|\n|raq_04    |   0.08|   0.16|   0.32|   0.28|   0.14|   0.17|   0.24|   0.27|   0.18|   0.15|   0.16|   0.20|   0.22|   0.18|   0.10|   0.25|   0.17|   0.23|   0.32|     NA|     NA|     NA|\n|raq_05    |   0.17|   0.27|   0.37|   0.34|   0.29|   0.38|   0.30|   0.24|   0.33|   0.27|   0.35|   0.19|   0.31|   0.31|   0.16|   0.36|   0.36|   0.51|     NA|     NA|     NA|     NA|\n|raq_06    |   0.17|   0.33|   0.26|   0.23|   0.38|   0.51|   0.28|   0.16|   0.40|   0.36|   0.46|   0.11|   0.29|   0.40|   0.20|   0.34|   0.45|     NA|     NA|     NA|     NA|     NA|\n|raq_07    |   0.16|   0.22|   0.20|   0.14|   0.26|   0.35|   0.21|   0.12|   0.29|   0.25|   0.31|   0.10|   0.21|   0.28|   0.17|   0.25|     NA|     NA|     NA|     NA|     NA|     NA|\n|raq_08    |   0.14|   0.22|   0.30|   0.26|   0.21|   0.28|   0.55|   0.21|   0.23|   0.23|   0.20|   0.13|   0.58|   0.19|   0.16|     NA|     NA|     NA|     NA|     NA|     NA|     NA|\n|raq_09    |   0.55|   0.43|   0.17|   0.10|   0.46|   0.15|   0.14|   0.08|   0.15|   0.12|   0.15|   0.06|   0.17|   0.11|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|\n|raq_10    |   0.07|   0.16|   0.16|   0.18|   0.21|   0.29|   0.18|   0.13|   0.24|   0.22|   0.25|   0.08|   0.17|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|\n|raq_11    |   0.13|   0.20|   0.29|   0.27|   0.19|   0.24|   0.47|   0.17|   0.20|   0.19|   0.20|   0.10|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|\n|raq_12    |   0.05|   0.08|   0.16|   0.12|   0.07|   0.10|   0.07|   0.15|   0.07|   0.07|   0.07|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|\n|raq_13    |   0.14|   0.23|   0.17|   0.16|   0.26|   0.34|   0.18|   0.15|   0.29|   0.27|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|\n|raq_14    |   0.13|   0.22|   0.17|   0.15|   0.22|   0.26|   0.17|   0.08|   0.23|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|\n|raq_15    |   0.15|   0.24|   0.17|   0.16|   0.23|   0.32|   0.21|   0.11|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|\n|raq_16    |   0.10|   0.11|   0.26|   0.23|   0.14|   0.12|   0.18|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|\n|raq_17    |   0.14|   0.21|   0.26|   0.22|   0.20|   0.25|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|\n|raq_18    |   0.13|   0.27|   0.19|   0.18|   0.30|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|\n|raq_19    |   0.44|   0.42|   0.18|   0.16|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|\n|raq_20    |   0.11|   0.17|   0.35|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|\n|raq_21    |   0.14|   0.18|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|\n|raq_22    |   0.40|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|     NA|\n\n\n:::\n:::\n\n\n\n### Correlations using Spearman's Rho\n\nRecommended\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nraq_poly <- psych::polychoric(raq_items_tib)\nraq_cor <- raq_poly$rho\nraq_cor |> \n  knitr::kable(digits = 2)\n```\n\n::: {.cell-output-display}\n\n\n|       | raq_01| raq_02| raq_03| raq_04| raq_05| raq_06| raq_07| raq_08| raq_09| raq_10| raq_11| raq_12| raq_13| raq_14| raq_15| raq_16| raq_17| raq_18| raq_19| raq_20| raq_21| raq_22| raq_23|\n|:------|------:|------:|------:|------:|------:|------:|------:|------:|------:|------:|------:|------:|------:|------:|------:|------:|------:|------:|------:|------:|------:|------:|------:|\n|raq_01 |   1.00|   0.12|  -0.20|   0.24|   0.25|   0.18|   0.12|   0.25|   0.09|   0.12|   0.21|   0.17|   0.12|   0.13|   0.12|   0.19|   0.18|   0.13|   0.12|   0.23|   0.25|   0.14|   0.09|\n|raq_02 |   0.12|   1.00|  -0.13|   0.14|   0.31|   0.37|   0.28|   0.20|   0.43|   0.20|   0.17|   0.10|   0.25|   0.22|   0.21|   0.11|   0.19|   0.29|   0.43|   0.14|   0.18|   0.38|   0.43|\n|raq_03 |  -0.20|  -0.13|   1.00|  -0.22|  -0.28|  -0.18|  -0.14|  -0.24|  -0.09|  -0.11|  -0.21|  -0.16|  -0.14|  -0.10|  -0.17|  -0.22|  -0.19|  -0.17|  -0.13|  -0.26|  -0.29|  -0.13|  -0.06|\n|raq_04 |   0.24|   0.14|  -0.22|   1.00|   0.35|   0.26|   0.18|   0.28|   0.11|   0.20|   0.25|   0.21|   0.18|   0.16|   0.21|   0.30|   0.26|   0.19|   0.16|   0.32|   0.36|   0.17|   0.09|\n|raq_05 |   0.25|   0.31|  -0.28|   0.35|   1.00|   0.57|   0.40|   0.40|   0.18|   0.35|   0.35|   0.21|   0.39|   0.30|   0.36|   0.27|   0.33|   0.42|   0.32|   0.38|   0.41|   0.30|   0.19|\n|raq_06 |   0.18|   0.37|  -0.18|   0.26|   0.57|   1.00|   0.50|   0.38|   0.22|   0.44|   0.33|   0.13|   0.50|   0.39|   0.45|   0.18|   0.31|   0.56|   0.42|   0.25|   0.29|   0.36|   0.19|\n|raq_07 |   0.12|   0.28|  -0.14|   0.18|   0.40|   0.50|   1.00|   0.28|   0.18|   0.31|   0.24|   0.10|   0.34|   0.28|   0.32|   0.13|   0.23|   0.39|   0.28|   0.16|   0.22|   0.25|   0.18|\n|raq_08 |   0.25|   0.20|  -0.24|   0.28|   0.40|   0.38|   0.28|   1.00|   0.18|   0.20|   0.64|   0.14|   0.22|   0.25|   0.25|   0.23|   0.61|   0.31|   0.23|   0.29|   0.33|   0.25|   0.16|\n|raq_09 |   0.09|   0.43|  -0.09|   0.11|   0.18|   0.22|   0.18|   0.18|   1.00|   0.12|   0.19|   0.07|   0.17|   0.14|   0.16|   0.09|   0.16|   0.16|   0.51|   0.11|   0.19|   0.48|   0.60|\n|raq_10 |   0.12|   0.20|  -0.11|   0.20|   0.35|   0.44|   0.31|   0.20|   0.12|   1.00|   0.19|   0.08|   0.27|   0.24|   0.27|   0.14|   0.20|   0.32|   0.23|   0.20|   0.18|   0.17|   0.08|\n|raq_11 |   0.21|   0.17|  -0.21|   0.25|   0.35|   0.33|   0.24|   0.64|   0.19|   0.19|   1.00|   0.11|   0.22|   0.20|   0.22|   0.19|   0.51|   0.27|   0.21|   0.30|   0.32|   0.22|   0.14|\n|raq_12 |   0.17|   0.10|  -0.16|   0.21|   0.21|   0.13|   0.10|   0.14|   0.07|   0.08|   0.11|   1.00|   0.08|   0.08|   0.08|   0.17|   0.08|   0.11|   0.08|   0.14|   0.18|   0.09|   0.06|\n|raq_13 |   0.12|   0.25|  -0.14|   0.18|   0.39|   0.50|   0.34|   0.22|   0.17|   0.27|   0.22|   0.08|   1.00|   0.30|   0.32|   0.17|   0.20|   0.38|   0.29|   0.18|   0.19|   0.26|   0.15|\n|raq_14 |   0.13|   0.22|  -0.10|   0.16|   0.30|   0.39|   0.28|   0.25|   0.14|   0.24|   0.20|   0.08|   0.30|   1.00|   0.26|   0.09|   0.19|   0.28|   0.24|   0.16|   0.18|   0.25|   0.14|\n|raq_15 |   0.12|   0.21|  -0.17|   0.21|   0.36|   0.45|   0.32|   0.25|   0.16|   0.27|   0.22|   0.08|   0.32|   0.26|   1.00|   0.12|   0.24|   0.35|   0.26|   0.18|   0.18|   0.26|   0.17|\n|raq_16 |   0.19|   0.11|  -0.22|   0.30|   0.27|   0.18|   0.13|   0.23|   0.09|   0.14|   0.19|   0.17|   0.17|   0.09|   0.12|   1.00|   0.20|   0.14|   0.15|   0.26|   0.29|   0.12|   0.11|\n|raq_17 |   0.18|   0.19|  -0.19|   0.26|   0.33|   0.31|   0.23|   0.61|   0.16|   0.20|   0.51|   0.08|   0.20|   0.19|   0.24|   0.20|   1.00|   0.28|   0.22|   0.24|   0.29|   0.23|   0.15|\n|raq_18 |   0.13|   0.29|  -0.17|   0.19|   0.42|   0.56|   0.39|   0.31|   0.16|   0.32|   0.27|   0.11|   0.38|   0.28|   0.35|   0.14|   0.28|   1.00|   0.33|   0.20|   0.21|   0.30|   0.14|\n|raq_19 |   0.12|   0.43|  -0.13|   0.16|   0.32|   0.42|   0.28|   0.23|   0.51|   0.23|   0.21|   0.08|   0.29|   0.24|   0.26|   0.15|   0.22|   0.33|   1.00|   0.18|   0.20|   0.46|   0.49|\n|raq_20 |   0.23|   0.14|  -0.26|   0.32|   0.38|   0.25|   0.16|   0.29|   0.11|   0.20|   0.30|   0.14|   0.18|   0.16|   0.18|   0.26|   0.24|   0.20|   0.18|   1.00|   0.39|   0.19|   0.13|\n|raq_21 |   0.25|   0.18|  -0.29|   0.36|   0.41|   0.29|   0.22|   0.33|   0.19|   0.18|   0.32|   0.18|   0.19|   0.18|   0.18|   0.29|   0.29|   0.21|   0.20|   0.39|   1.00|   0.20|   0.16|\n|raq_22 |   0.14|   0.38|  -0.13|   0.17|   0.30|   0.36|   0.25|   0.25|   0.48|   0.17|   0.22|   0.09|   0.26|   0.25|   0.26|   0.12|   0.23|   0.30|   0.46|   0.19|   0.20|   1.00|   0.45|\n|raq_23 |   0.09|   0.43|  -0.06|   0.09|   0.19|   0.19|   0.18|   0.16|   0.60|   0.08|   0.14|   0.06|   0.15|   0.14|   0.17|   0.11|   0.15|   0.14|   0.49|   0.13|   0.16|   0.45|   1.00|\n\n\n:::\n:::\n\n\n\n### Creating a correlation heat map using cor.plot()\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npsych::cor.plot(raq_cor, upper = FALSE, cex = .4)\n```\n\n::: {.cell-output-display}\n![](efa_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n\n## Bartlett's test of sphericity\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npsych::cortest.bartlett(raq_cor, n = 2571)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n$chisq\n[1] 17387.52\n\n$p.value\n[1] 0\n\n$df\n[1] 253\n```\n\n\n:::\n:::\n\n\n\n## KMO measure of sampling adequacy\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npsych::KMO(raq_cor)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nKaiser-Meyer-Olkin factor adequacy\nCall: psych::KMO(r = raq_cor)\nOverall MSA =  0.92\nMSA for each item = \nraq_01 raq_02 raq_03 raq_04 raq_05 raq_06 raq_07 raq_08 raq_09 raq_10 raq_11 \n  0.95   0.94   0.93   0.93   0.95   0.91   0.96   0.86   0.84   0.95   0.89 \nraq_12 raq_13 raq_14 raq_15 raq_16 raq_17 raq_18 raq_19 raq_20 raq_21 raq_22 \n  0.90   0.95   0.96   0.96   0.92   0.90   0.95   0.93   0.93   0.93   0.94 \nraq_23 \n  0.84 \n```\n\n\n:::\n:::\n\n\n\n## Parallel analysis\n\n-   n.obs = sample size\n\n-   fm = \"minres\" is default - uses minimum residuals\n\n-   fa = \"both\" is default - shows both factors and components. can change to fa = \"fa\" to just show number of factors to extract\n\n-   cor = \"cor\" is default - uses pearson's correlations. can change to cor = \"poly\" for polychoric correlations\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#using the raw data\n#psych::fa.parallel(raq_items_tib, fa = \"fa\", cor = \"poly\")\n\n#using the correlation matrix we made earlier (faster)\npsych::fa.parallel(raq_cor, n.obs = 2571, fa = \"fa\")\n```\n\n::: {.cell-output-display}\n![](efa_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nParallel analysis suggests that the number of factors =  4  and the number of components =  NA \n```\n\n\n:::\n:::\n\n\n\n### Using eigenvalues\n\nCompares our data to a data set with no underlying factors (keep the factors with eigenvalues bigger than red line)\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# parallel analysis but with principle components to compute the eigenvalues \n\n# Using the raw data\n#psych::fa.parallel(raq_items_tib, fa = \"pc\", cor = \"poly\")\n\n# Using the correlation matrix (faster)\npsych::fa.parallel(raq_cor, n.obs = 2571, fa = \"pc\")\n```\n\n::: {.cell-output-display}\n![](efa_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nParallel analysis suggests that the number of factors =  NA  and the number of components =  4 \n```\n\n\n:::\n:::\n\n\n\n## Creating the factor analysis object (and inspecting it)\n\nGeneral format\n\n``` r\nmy_fa_object <- psych::fa(data_tib, \nnfactors = 1, \nfm = \"minres\", \nrotate = \"oblimin\", \nscores = \"regression\", \nmax.iter = 50, \nuse = \"pairwise\", \ncor = \"cor\"                            \n)\n```\n\n-   nfactors = how many factors to extract\n\n-   rotate = “oblimin”: the method of factor rotation. the default is an oblique rotation method called oblimin\n\nscores = “regression” is default method for computing factor scores - use scores = \"tenBerge\" for oblique rotation\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(GPArotation)\n\n# using the raw rata \n# raq_fa <- psych::fa(raq_items_tib,\n#                    nfactors = 4,\n#                    scores = \"tenBerge\",\n#                    cor = \"poly\"\n#                    )\n\n# using the correlation matrix \nraq_fa <- psych::fa(raq_cor, \n                    n.obs = 2571, \n                    nfactors = 4,\n                    scores = \"tenBerge\"\n                    )\nraq_fa\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nFactor Analysis using method =  minres\nCall: psych::fa(r = raq_cor, nfactors = 4, n.obs = 2571, scores = \"tenBerge\")\nStandardized loadings (pattern matrix) based upon correlation matrix\n         MR1   MR2   MR4   MR3   h2   u2 com\nraq_01 -0.03  0.01  0.39  0.06 0.17 0.83 1.1\nraq_02  0.25  0.48  0.02 -0.03 0.38 0.62 1.5\nraq_03  0.00  0.01 -0.43 -0.03 0.20 0.80 1.0\nraq_04  0.03 -0.02  0.56  0.00 0.33 0.67 1.0\nraq_05  0.45 -0.01  0.39  0.02 0.54 0.46 2.0\nraq_06  0.84  0.00 -0.01  0.03 0.73 0.27 1.0\nraq_07  0.56  0.04  0.00  0.04 0.35 0.65 1.0\nraq_08  0.00 -0.01 -0.01  0.88 0.75 0.25 1.0\nraq_09 -0.07  0.81  0.00  0.03 0.62 0.38 1.0\nraq_10  0.49 -0.05  0.09 -0.02 0.26 0.74 1.1\nraq_11 -0.01  0.01  0.03  0.72 0.55 0.45 1.0\nraq_12 -0.01  0.01  0.37 -0.07 0.11 0.89 1.1\nraq_13  0.57  0.03  0.04 -0.03 0.34 0.66 1.0\nraq_14  0.42  0.04  0.01  0.06 0.22 0.78 1.1\nraq_15  0.48  0.03  0.03  0.05 0.29 0.71 1.0\nraq_16 -0.05  0.02  0.51 -0.01 0.23 0.77 1.0\nraq_17  0.03  0.02  0.00  0.68 0.49 0.51 1.0\nraq_18  0.63  0.01 -0.02  0.07 0.43 0.57 1.0\nraq_19  0.26  0.56  0.00 -0.01 0.50 0.50 1.4\nraq_20  0.00  0.01  0.54  0.05 0.32 0.68 1.0\nraq_21 -0.02  0.05  0.59  0.06 0.40 0.60 1.0\nraq_22  0.19  0.52  0.03  0.05 0.41 0.59 1.3\nraq_23 -0.08  0.79  0.02 -0.01 0.59 0.41 1.0\n\n                       MR1  MR2  MR4  MR3\nSS loadings           3.04 2.24 2.03 1.91\nProportion Var        0.13 0.10 0.09 0.08\nCumulative Var        0.13 0.23 0.32 0.40\nProportion Explained  0.33 0.24 0.22 0.21\nCumulative Proportion 0.33 0.57 0.79 1.00\n\n With factor correlations of \n     MR1  MR2  MR4  MR3\nMR1 1.00 0.38 0.50 0.48\nMR2 0.38 1.00 0.28 0.28\nMR4 0.50 0.28 1.00 0.57\nMR3 0.48 0.28 0.57 1.00\n\nMean item complexity =  1.1\nTest of the hypothesis that 4 factors are sufficient.\n\ndf null model =  253  with the objective function =  6.79 with Chi Square =  17387.52\ndf of  the model are 167  and the objective function was  0.1 \n\nThe root mean square of the residuals (RMSR) is  0.01 \nThe df corrected root mean square of the residuals is  0.02 \n\nThe harmonic n.obs is  2571 with the empirical chi square  205.03  with prob <  0.024 \nThe total n.obs was  2571  with Likelihood Chi Square =  267.21  with prob <  1.3e-06 \n\nTucker Lewis Index of factoring reliability =  0.991\nRMSEA index =  0.015  and the 90 % confidence intervals are  0.012 0.019\nBIC =  -1044.08\nFit based upon off diagonal values = 1\nMeasures of factor score adequacy             \n                                                   MR1  MR2  MR4  MR3\nCorrelation of (regression) scores with factors   0.93 0.91 0.88 0.92\nMultiple R square of scores with factors          0.87 0.83 0.77 0.85\nMinimum correlation of possible factor scores     0.73 0.66 0.54 0.70\n```\n\n\n:::\n:::\n\n\n\n## Factor loadings\n\n-   threshold = \"max\" is default - shows only primary factor loadings, or can change to be threshold = \"0.2\" (for example), or can change to see all factor loadings threshold = NULL\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#to make it look nicer: \noptions(knitr.kable.NA = \"\")\n\nparameters::model_parameters(raq_fa,\n                             sort = TRUE, \n                             threshold = \"max\") |> \n  knitr::kable(digits = 2)\n```\n\n::: {.cell-output-display}\n\n\n|Variable |  MR1|  MR2|   MR4|  MR3| Complexity| Uniqueness|\n|:--------|----:|----:|-----:|----:|----------:|----------:|\n|raq_06   | 0.84|     |      |     |       1.00|       0.27|\n|raq_18   | 0.63|     |      |     |       1.03|       0.57|\n|raq_13   | 0.57|     |      |     |       1.02|       0.66|\n|raq_07   | 0.56|     |      |     |       1.02|       0.65|\n|raq_10   | 0.49|     |      |     |       1.08|       0.74|\n|raq_15   | 0.48|     |      |     |       1.04|       0.71|\n|raq_05   | 0.45|     |      |     |       1.97|       0.46|\n|raq_14   | 0.42|     |      |     |       1.06|       0.78|\n|raq_09   |     | 0.81|      |     |       1.02|       0.38|\n|raq_23   |     | 0.79|      |     |       1.02|       0.41|\n|raq_19   |     | 0.56|      |     |       1.41|       0.50|\n|raq_22   |     | 0.52|      |     |       1.29|       0.59|\n|raq_02   |     | 0.48|      |     |       1.54|       0.62|\n|raq_21   |     |     |  0.59|     |       1.04|       0.60|\n|raq_04   |     |     |  0.56|     |       1.01|       0.67|\n|raq_20   |     |     |  0.54|     |       1.02|       0.68|\n|raq_16   |     |     |  0.51|     |       1.02|       0.77|\n|raq_03   |     |     | -0.43|     |       1.01|       0.80|\n|raq_01   |     |     |  0.39|     |       1.06|       0.83|\n|raq_12   |     |     |  0.37|     |       1.07|       0.89|\n|raq_08   |     |     |      | 0.88|       1.00|       0.25|\n|raq_11   |     |     |      | 0.72|       1.00|       0.45|\n|raq_17   |     |     |      | 0.68|       1.00|       0.51|\n\n\n:::\n:::\n\n\n\n## Reliability analysis\n\n### Using omega()\n\nif all items are stored in the same direction:\n\n``` r\nmy_omg <- psych::omega(my_tibble,\nnfactors = 1,\nfm = \"minres\",\nkey = c(1, 1, -1, 1, 1 … 1),\nrotate = \"oblimin\",\npoly = FALSE   \n)\n```\n\n-   because we use polychoric correlations we need to include poly = TRUE\n\n-   key argument allows us to reverse item scoring - to be quicker, use rep(), which takes the form rep(thing_to_repeat, repetitions)\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# need to have loaded library(GPArotation)\nraq_omg <- psych::omega(raq_items_tib,\n                        nfactors = 4,\n                        fm = \"minres\",\n                        key = c(1, 1, -1, rep(1, 20)),\n                        poly = TRUE\n                        )\n```\n\n::: {.cell-output-display}\n![](efa_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n\n```{.r .cell-code}\nraq_omg\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nOmega \nCall: omegah(m = m, nfactors = nfactors, fm = fm, key = key, flip = flip, \n    digits = digits, title = title, sl = sl, labels = labels, \n    plot = plot, n.obs = n.obs, rotate = rotate, Phi = Phi, option = option, \n    covar = covar)\nAlpha:                 0.88 \nG.6:                   0.89 \nOmega Hierarchical:    0.68 \nOmega H asymptotic:    0.75 \nOmega Total            0.9 \n\nSchmid Leiman Factor loadings greater than  0.2 \n           g   F1*   F2*   F3*   F4*    h2   h2   u2   p2  com\nraq_01  0.32              0.26             0.17 0.83 0.57 1.99\nraq_02  0.37        0.43              0.38 0.38 0.62 0.37 2.34\nraq_03- 0.34              0.29        0.20 0.20 0.80 0.56 1.97\nraq_04  0.43              0.38        0.33 0.33 0.67 0.56 1.98\nraq_05  0.62  0.32        0.27        0.54 0.54 0.46 0.70 1.90\nraq_06  0.61  0.60                    0.73 0.73 0.27 0.51 2.00\nraq_07  0.44  0.39                    0.35 0.35 0.65 0.54 2.00\nraq_08  0.62                    0.61  0.75 0.75 0.25 0.51 2.00\nraq_09  0.32        0.73              0.62 0.62 0.38 0.17 1.39\nraq_10  0.37  0.35                    0.26 0.26 0.74 0.53 2.07\nraq_11  0.54                    0.50  0.55 0.55 0.45 0.54 1.99\nraq_12  0.22              0.25             0.11 0.89 0.44 2.05\nraq_13  0.42  0.40                    0.34 0.34 0.66 0.51 2.02\nraq_14  0.36  0.30                    0.22 0.22 0.78 0.59 1.98\nraq_15  0.41  0.34                    0.29 0.29 0.71 0.59 1.97\nraq_16  0.34              0.34        0.23 0.23 0.77 0.49 2.02\nraq_17  0.52                    0.47  0.49 0.49 0.51 0.55 1.99\nraq_18  0.48  0.44                    0.43 0.43 0.57 0.54 2.02\nraq_19  0.43        0.51              0.50 0.50 0.50 0.37 2.23\nraq_20  0.43              0.36        0.32 0.32 0.68 0.58 1.95\nraq_21  0.49              0.40        0.40 0.40 0.60 0.59 1.97\nraq_22  0.41        0.46              0.41 0.41 0.59 0.41 2.16\nraq_23  0.30        0.71              0.59 0.59 0.41 0.15 1.35\n\nWith Sums of squares  of:\n   g  F1*  F2*  F3*  F4*   h2 \n4.40 1.39 1.71 0.85 0.86 4.37 \n\ngeneral/max  1.01   max/min =   5.15\nmean percent general =  0.49    with sd =  0.13 and cv of  0.26 \nExplained Common Variance of the general factor =  0.48 \n\nThe degrees of freedom are 167  and the fit is  0.1 \nThe number of observations was  2571  with Chi Square =  267.21  with prob <  1.3e-06\nThe root mean square of the residuals is  0.01 \nThe df corrected root mean square of the residuals is  0.02\nRMSEA index =  0.015  and the 10 % confidence intervals are  0.012 0.019\nBIC =  -1044.08\n\nCompare this with the adequacy of just a general factor and no group factors\nThe degrees of freedom for just the general factor are 230  and the fit is  2.39 \nThe number of observations was  2571  with Chi Square =  6122.42  with prob <  0\nThe root mean square of the residuals is  0.1 \nThe df corrected root mean square of the residuals is  0.11 \n\nRMSEA index =  0.1  and the 10 % confidence intervals are  0.098 0.102\nBIC =  4316.45 \n\nMeasures of factor score adequacy             \n                                                 g  F1*  F2*   F3*  F4*\nCorrelation of scores with factors            0.84 0.76 0.87  0.67 0.74\nMultiple R square of scores with factors      0.71 0.57 0.75  0.44 0.55\nMinimum correlation of factor score estimates 0.42 0.14 0.51 -0.11 0.10\n\n Total, General and Subset omega for each subset\n                                                 g  F1*  F2*  F3*  F4*\nOmega total for total scores and subscales    0.90 0.83 0.80 0.69 0.81\nOmega general for total scores and subscales  0.68 0.48 0.23 0.38 0.43\nOmega group for total scores and subscales    0.18 0.35 0.56 0.31 0.38\n```\n\n\n:::\n:::\n\n\n\nThe column g shows the loading of each item on the general factor\n\nColumns F1 to F4 show factor loadings for each item (don’t match main factor analysis because this model includes general factor)\n\n### Cronbach's alpha\n\nNot recommended\n\nPipe the variables for each subscale into the alpha() function from psych\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# eg for fear of computers subsclale \nraq_tib |> \n  dplyr::select(raq_05, raq_06, raq_07, raq_10, raq_13, raq_14, raq_15, raq_18) |> \n  psych::alpha()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nReliability analysis   \nCall: psych::alpha(x = dplyr::select(raq_tib, raq_05, raq_06, raq_07, \n    raq_10, raq_13, raq_14, raq_15, raq_18))\n\n  raw_alpha std.alpha G6(smc) average_r S/N   ase mean   sd median_r\n       0.8       0.8    0.78      0.33   4 0.006  3.5 0.64     0.32\n\n    95% confidence boundaries \n         lower alpha upper\nFeldt     0.79   0.8  0.81\nDuhachek  0.79   0.8  0.81\n\n Reliability if an item is dropped:\n       raw_alpha std.alpha G6(smc) average_r S/N alpha se  var.r med.r\nraq_05      0.77      0.77    0.75      0.32 3.3   0.0069 0.0065  0.29\nraq_06      0.75      0.75    0.72      0.30 2.9   0.0077 0.0021  0.29\nraq_07      0.78      0.78    0.76      0.33 3.5   0.0067 0.0073  0.32\nraq_10      0.79      0.79    0.77      0.35 3.7   0.0064 0.0066  0.34\nraq_13      0.78      0.78    0.76      0.33 3.5   0.0067 0.0073  0.32\nraq_14      0.79      0.79    0.77      0.35 3.8   0.0062 0.0060  0.34\nraq_15      0.78      0.78    0.76      0.34 3.6   0.0065 0.0073  0.34\nraq_18      0.77      0.77    0.75      0.33 3.4   0.0069 0.0065  0.31\n\n Item statistics \n          n raw.r std.r r.cor r.drop mean   sd\nraq_05 2571  0.68  0.68  0.62   0.56  3.5 1.00\nraq_06 2571  0.79  0.79  0.79   0.70  3.5 0.99\nraq_07 2571  0.64  0.64  0.56   0.50  3.5 1.00\nraq_10 2571  0.58  0.58  0.48   0.43  3.5 1.00\nraq_13 2571  0.63  0.63  0.55   0.49  3.5 0.98\nraq_14 2571  0.56  0.55  0.44   0.40  3.5 1.00\nraq_15 2571  0.60  0.60  0.51   0.45  3.5 0.99\nraq_18 2571  0.67  0.67  0.61   0.54  3.5 0.97\n\nNon missing response frequency for each item\n          1    2    3    4    5 miss\nraq_05 0.03 0.13 0.35 0.32 0.16    0\nraq_06 0.02 0.14 0.35 0.33 0.17    0\nraq_07 0.02 0.13 0.33 0.34 0.17    0\nraq_10 0.02 0.14 0.35 0.32 0.17    0\nraq_13 0.02 0.14 0.33 0.35 0.15    0\nraq_14 0.02 0.13 0.33 0.35 0.17    0\nraq_15 0.02 0.13 0.32 0.35 0.17    0\nraq_18 0.02 0.13 0.35 0.35 0.15    0\n```\n\n\n:::\n\n```{.r .cell-code}\n# fear of peer / social evaluation subscale\nraq_tib |> \n  dplyr::select(raq_02, raq_09, raq_19, raq_22, raq_23) |> \n  psych::alpha()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nReliability analysis   \nCall: psych::alpha(x = dplyr::select(raq_tib, raq_02, raq_09, raq_19, \n    raq_22, raq_23))\n\n  raw_alpha std.alpha G6(smc) average_r S/N    ase mean   sd median_r\n      0.78      0.78    0.75      0.42 3.6 0.0067  3.5 0.72     0.41\n\n    95% confidence boundaries \n         lower alpha upper\nFeldt     0.77  0.78   0.8\nDuhachek  0.77  0.78   0.8\n\n Reliability if an item is dropped:\n       raw_alpha std.alpha G6(smc) average_r S/N alpha se  var.r med.r\nraq_02      0.77      0.77    0.71      0.45 3.3   0.0075 0.0027  0.43\nraq_09      0.72      0.72    0.67      0.40 2.6   0.0089 0.0011  0.40\nraq_19      0.74      0.74    0.69      0.42 2.8   0.0084 0.0049  0.40\nraq_22      0.76      0.76    0.71      0.44 3.1   0.0078 0.0038  0.42\nraq_23      0.73      0.73    0.67      0.41 2.7   0.0086 0.0018  0.40\n\n Item statistics \n          n raw.r std.r r.cor r.drop mean   sd\nraq_02 2571  0.68  0.69  0.55   0.49  3.5 0.97\nraq_09 2571  0.77  0.77  0.70   0.62  3.5 0.99\nraq_19 2571  0.74  0.74  0.64   0.57  3.5 1.00\nraq_22 2571  0.70  0.71  0.59   0.52  3.5 0.96\nraq_23 2571  0.76  0.76  0.68   0.60  3.5 0.98\n\nNon missing response frequency for each item\n          1    2    3    4    5 miss\nraq_02 0.02 0.13 0.37 0.33 0.15    0\nraq_09 0.02 0.13 0.33 0.34 0.17    0\nraq_19 0.02 0.14 0.34 0.34 0.16    0\nraq_22 0.02 0.13 0.36 0.34 0.15    0\nraq_23 0.02 0.14 0.34 0.34 0.16    0\n```\n\n\n:::\n\n```{.r .cell-code}\n# for fear of statistics - raq_03 is reverse coded\nraq_tib |> \n  dplyr::select(raq_01, raq_03, raq_04, raq_05, raq_12, raq_16, raq_20, raq_21) |> \n  psych::alpha(keys = c(1, -1, rep(1, 6)))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nReliability analysis   \nCall: psych::alpha(x = dplyr::select(raq_tib, raq_01, raq_03, raq_04, \n    raq_05, raq_12, raq_16, raq_20, raq_21), keys = c(1, -1, \n    rep(1, 6)))\n\n  raw_alpha std.alpha G6(smc) average_r S/N    ase mean   sd median_r\n      0.71      0.71    0.68      0.23 2.4 0.0087  3.4 0.57     0.22\n\n    95% confidence boundaries \n         lower alpha upper\nFeldt     0.69  0.71  0.72\nDuhachek  0.69  0.71  0.72\n\n Reliability if an item is dropped:\n        raw_alpha std.alpha G6(smc) average_r S/N alpha se  var.r med.r\nraq_01       0.69      0.69    0.67      0.24 2.2   0.0092 0.0050  0.24\nraq_03-      0.69      0.69    0.66      0.24 2.2   0.0094 0.0051  0.23\nraq_04       0.67      0.67    0.64      0.22 2.0   0.0100 0.0046  0.22\nraq_05       0.66      0.66    0.63      0.22 1.9   0.0102 0.0035  0.21\nraq_12       0.71      0.71    0.68      0.26 2.4   0.0088 0.0032  0.24\nraq_16       0.68      0.68    0.66      0.24 2.2   0.0095 0.0051  0.22\nraq_20       0.67      0.67    0.64      0.22 2.0   0.0099 0.0037  0.22\nraq_21       0.66      0.66    0.63      0.22 1.9   0.0103 0.0032  0.21\n\n Item statistics \n           n raw.r std.r r.cor r.drop mean   sd\nraq_01  2571  0.52  0.52  0.39   0.33  3.5 0.99\nraq_03- 2571  0.54  0.54  0.42   0.36  2.5 0.99\nraq_04  2571  0.61  0.61  0.53   0.45  3.5 0.99\nraq_05  2571  0.64  0.64  0.58   0.48  3.5 1.00\nraq_12  2571  0.46  0.46  0.32   0.27  3.5 0.98\nraq_16  2571  0.55  0.55  0.44   0.37  3.5 0.98\nraq_20  2571  0.61  0.60  0.52   0.44  3.5 1.00\nraq_21  2571  0.64  0.65  0.58   0.49  3.5 0.98\n\nNon missing response frequency for each item\n          1    2    3    4    5 miss\nraq_01 0.02 0.14 0.33 0.35 0.16    0\nraq_03 0.02 0.14 0.34 0.34 0.16    0\nraq_04 0.02 0.14 0.34 0.34 0.16    0\nraq_05 0.03 0.13 0.35 0.32 0.16    0\nraq_12 0.02 0.12 0.34 0.35 0.16    0\nraq_16 0.02 0.14 0.34 0.34 0.16    0\nraq_20 0.02 0.14 0.33 0.35 0.17    0\nraq_21 0.02 0.14 0.34 0.35 0.15    0\n```\n\n\n:::\n:::\n",
    "supporting": [
      "efa_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}